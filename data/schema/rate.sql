CREATE TABLE rate (
  hospital_id TEXT NOT NULL,
  row_id INTEGER NOT NULL DEFAULT 0,
  line_type TEXT,
  description TEXT,
  rev_code TEXT,
  local_code TEXT,
  code TEXT,
  ms_drg TEXT,
  apr_drg TEXT,
  eapg TEXT,
  hcpcs_cpt TEXT,
  modifiers TEXT,
  alt_hcpcs_cpt TEXT,
  thru TEXT,
  apc TEXT,
  icd TEXT,
  ndc TEXT,
  drug_hcpcs_multiplier INTEGER,
  drug_quantity TEXT,
  drug_unit_of_measurement TEXT,
  drug_type_of_measurement TEXT CHECK(drug_type_of_measurement IN ('gr','mg','ml','un')),
  billing_class TEXT CHECK(billing_class IN ('professional','facility')),
  setting TEXT CHECK(setting IN ('inpatient','outpatient','both')),
  rate_category TEXT NOT NULL CHECK(rate_category IN ('gross','cash','min','max','negotiated')),
  payer_name TEXT,
  plan_name TEXT,
  standard_charge REAL,
  standard_charge_percent REAL,
  contracting_method TEXT CHECK(contracting_method IN ('capitation', 'case rate', 'fee schedule', 'percent of total billed charge', 'per diem', 'other')),
  additional_generic_notes TEXT,
  additional_payer_specific_notes TEXT,
  PRIMARY KEY (hospital_id, row_id)
  -- Foreign key constraint can be added here if the 'hospital' table exists
);
